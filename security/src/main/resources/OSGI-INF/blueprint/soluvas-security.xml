<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
    xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
    xmlns:ext="http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0
        http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0
        http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.1.0 http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.1.0
        http://karaf.apache.org/xmlns/shell/v1.1.0 http://karaf.apache.org/xmlns/shell/v1.1.0">

	<reference id="svcLookup" interface="org.soluvas.commons.tenant.ServiceLookup"/>

	<command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.1.0">
		<!-- Security Dictionary -->
		<command name="secd/rolels">
			<action class="org.soluvas.security.shell.SecdRoleLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="secd/actionls">
			<action class="org.soluvas.security.shell.SecdActionLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="secd/domainls">
			<action class="org.soluvas.security.shell.SecdDomainLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="secd/permls">
			<action class="org.soluvas.security.shell.SecdPermLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		
		<!-- Security Repository -->
		<command name="sec/roleadd">
			<action class="org.soluvas.security.shell.SecRoleAddCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="sec/rolerm">
			<action class="org.soluvas.security.shell.SecRoleRmCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="sec/rolels">
			<action class="org.soluvas.security.shell.SecRoleLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="sec/rolesync">
			<action class="org.soluvas.security.shell.SecRoleSyncCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="sec/rolememberls">
			<action class="org.soluvas.security.shell.SecRoleMemberLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="sec/rolememberset">
			<action class="org.soluvas.security.shell.SecRoleMemberSetCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		<command name="sec/personrolels">
			<action class="org.soluvas.security.shell.SecPersonRoleLsCommand">
				<argument ref="svcLookup" />
			</action>
		</command>
		
		<!-- Security Runtime -->
	</command-bundle>
	
	<bean class="org.soluvas.commons.EmfUnloader" init-method="init" destroy-method="destroy">
		<argument value="org.soluvas.security.SecurityPackage" />
	</bean>

</blueprint>
